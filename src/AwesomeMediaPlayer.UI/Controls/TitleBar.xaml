<?xml version="1.0" encoding="utf-8" ?>
<UserControl x:Class="AwesomeMediaPlayer.UI.Controls.TitleBar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:communityToolkit="using:CommunityToolkit.WinUI"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             x:DefaultBindMode="OneWay"
             mc:Ignorable="d">
    <UserControl.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="{ThemeResource TextFillColorPrimaryBrush}"/>
            <Setter Property="MaxLines" Value="1"/>
            <Setter Property="TextAlignment" Value="Left"/>
            <Setter Property="TextDecorations" Value="None"/>
            <Setter Property="TextLineBounds" Value="Tight"/>
            <Setter Property="TextReadingOrder" Value="DetectFromContent"/>
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
            <Setter Property="TextWrapping" Value="NoWrap"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </UserControl.Resources>

    <Grid Height="{x:Bind Height}"
          MinHeight="32"
          MaxHeight="48">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Column="0"
                    Padding="8,0"
                    Orientation="Horizontal"
                    Spacing="8"
                    Visibility="{x:Bind HeaderVisibility}">
            <Image Width="18"
                   Height="18"
                   VerticalAlignment="Center"
                   Source="{x:Bind Icon}"/>

            <TextBlock Text="{x:Bind Title}"/>

            <TextBlock Foreground="{ThemeResource TextFillColorTertiaryBrush}" Text="{x:Bind Subtitle}"/>
        </StackPanel>

        <ContentPresenter Grid.Column="1" Content="{x:Bind MiddleContent}"/>

        <Border Grid.Column="2" Width="138"/>
    </Grid>
</UserControl>