<?xml version="1.0" encoding="utf-8" ?>
<UserControl mc:Ignorable="d"
             x:Class="AwesomeMediaPlayer.Controls.TitleBar"
             x:DefaultBindMode="OneWay"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:communityToolkit="using:CommunityToolkit.WinUI"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <UserControl.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="{ThemeResource TextFillColorPrimaryBrush}"/>
            <Setter Property="MaxLines" Value="1"/>
            <Setter Property="TextAlignment" Value="Left"/>
            <Setter Property="TextDecorations" Value="None"/>
            <Setter Property="TextLineBounds" Value="Tight"/>
            <Setter Property="TextReadingOrder" Value="DetectFromContent"/>
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
            <Setter Property="TextWrapping" Value="NoWrap"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </UserControl.Resources>

    <Grid Height="{x:Bind Height}"
          MaxHeight="48"
          MinHeight="32">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <StackPanel Orientation="Horizontal"
                    Padding="8,0"
                    Spacing="8"
                    Visibility="{x:Bind HeaderVisibility}"
                    Grid.Column="0">
            <Image Height="18"
                   Source="{x:Bind Icon}"
                   VerticalAlignment="Center"
                   Width="18"/>

            <TextBlock Text="{x:Bind Title}"/>

            <TextBlock Foreground="{ThemeResource TextFillColorTertiaryBrush}" Text="{x:Bind Subtitle}"/>
        </StackPanel>

        <ContentPresenter Content="{x:Bind MiddleContent}" Grid.Column="1"/>

        <Border Width="138" Grid.Column="2"/>
    </Grid>
</UserControl>